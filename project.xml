<Customization level="0" description="">
    <Page path="~/pages/so/so201000.aspx" ControlId="2" pageSource="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">
        <PXTabItem Text="General Settings" ParentId="phG_tab_Items#0" TypeFullName="PX.Web.UI.PXTabItem">
            <Children Key="Template">
                <AddItem>
                    <PXSelector TypeFullName="PX.Web.UI.PXSelector">
                        <Prop Key="Virtual:ApplyStylesheetSkin" />
                        <Prop Key="ID" Value="edReasonCodeID" />
                        <Prop Key="DataField" Value="currentordertype.ReasonCode" />
                    </PXSelector>
                </AddItem>
                <PXCheckBox DataField="PostLineDiscSeparately" OriginalIndex="37" />
            </Children>
        </PXTabItem>
    </Page>
    <Graph ClassName="SOOrderEntry" Source="#CDATA" IsNew="True" FileType="ExistingGraph">
        <CDATA name="Source"><![CDATA[using PX.Data;
using PX.Objects.CS;
using System;

namespace PX.Objects.SO
{
    public class SOOrderEntry_Extension : PXGraphExtension<SOOrderEntry>
    {
        #region Event Handlers
        protected virtual void SOLine_RowSelected(PXCache sender, PXRowSelectedEventArgs e)
        {
            SOLine row = (SOLine)e.Row;
            if (row == null) return;

            if (!string.IsNullOrEmpty(row.OrderType))
            {
                SOOrderType orderType = (Base.soordertype.Current != null && Base.soordertype.Current.OrderType == row.OrderType) ? Base.soordertype.Current : Base.soordertype.Select(row.OrderType);
                if (orderType != null)
                {
                    SOOrderTypeReasonCodeExt orderTypeExt = PXCache<SOOrderType>.GetExtension<SOOrderTypeReasonCodeExt>(orderType);
                    if (!string.IsNullOrEmpty(orderTypeExt.ReasonCode))
                    {
                        PXUIFieldAttribute.SetEnabled<SOLine.reasonCode>(sender, row, false);
                    }
                }
            }
        }
        #endregion
    }
}]]></CDATA>
    </Graph>
    <Graph ClassName="SOOrderType" Source="#CDATA" IsNew="True" FileType="NewFile">
        <CDATA name="Source"><![CDATA[using System;
using PX.Data;
using PX.Objects.SO;
using PX.Objects.CS;

namespace PX.Objects.SO
{
    [Serializable]
    [PXTable(typeof(SOOrderType.orderType), IsOptional = true)]
    public class SOOrderTypeReasonCodeExt : PXCacheExtension<SOOrderType>
    {
        #region ReasonCode

        [PXDBString(PX.Objects.CS.ReasonCode.reasonCodeID.Length, IsUnicode = true)]
        [PXSelector(typeof(Search<ReasonCode.reasonCodeID,
            Where<ReasonCode.usage, Equal<ReasonCodeUsages.sales>, Or<ReasonCode.usage, Equal<ReasonCodeUsages.issue>>>>), DescriptionField = typeof(ReasonCode.descr))]
        [PXDefault(PersistingCheck = PXPersistingCheck.Nothing)]
        [PXUIField(DisplayName = "Reason Code")]
        public string ReasonCode { get; set; }

        public class reasonCode : IBqlField { }

        #endregion
    }
}]]></CDATA>
    </Graph>
    <DAC type="PX.Objects.SO.SOLine">
        <Field FieldName="ReasonCode" TypeName="string" TextAttributes="[PXDefault(typeof(SOOrderTypeReasonCodeExt.reasonCode))]" OverrideClassName="PX.Objects.SO.SOLine" StorageName="ExistingColumn" />
    </DAC>
    <Table TableName="SOLine">
        <Column TableName="SOLine" ColumnName="UsrReasonCode" ColumnType="string" AllowNull="True" MaxLength="25" DecimalPrecision="2" IsNewColumn="True" IsUnicode="True" />
    </Table>
    <Sql TableName="SOOrderTypeReasonCodeExt" TableSchemaXml="#CDATA">
        <CDATA name="TableSchemaXml"><![CDATA[<table name="SOOrderTypeReasonCodeExt">
  <col name="CompanyID" type="Int" default="Zero" />
  <col name="OrderType" type="Char(2)" />
  <col name="ReasonCode" type="NVarChar(20)" nullable="true" />
  <index name="SOOrderTypeReasonCodeExt_PK" clustered="true" primary="true" unique="true">
    <col name="CompanyID" />
    <col name="OrderType" />
  </index>
</table>]]></CDATA>
    </Sql>
</Customization>